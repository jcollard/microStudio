<h2>Step 2: Create spawn_enemy() Function</h2>
<div class="step-content">
    <p>Right now, all enemies are created once during <code>init()</code>. To enable dynamic spawning during gameplay, you need a function that can create a single enemy at any time.</p>

    <div class="info-box">
        <h3>Dynamic Spawning Concept</h3>
        <p><strong>Dynamic spawning</strong> means creating game objects during gameplay, not just at initialization. This allows for:</p>
        <ul>
            <li>Continuous challenge as enemies are destroyed</li>
            <li>Controlled pacing of difficulty</li>
            <li>Reactive gameplay that responds to player actions</li>
            <li>Endless gameplay possibilities</li>
        </ul>
        <p>The <code>spawn_enemy()</code> function will be your building block for all enemy creation going forward.</p>
    </div>

    <h3>Your Task</h3>
    <p>Create a function called <code>spawn_enemy()</code> that spawns a single enemy at a random position at the top of the screen.</p>

    <p><strong>Requirements:</strong></p>
    <ul>
        <li>Create one enemy using your existing <code>create_enemy()</code> function</li>
        <li>Place it at the <strong>top of the screen</strong> (y = 100)</li>
        <li>Use a <strong>random x position</strong> within the screen bounds (e.g., -100 to 100)</li>
        <li>Give it a random downward velocity so it moves into the play area</li>
    </ul>

    <h3>Implementation</h3>
    <p>Add this function to your code:</p>

    <div id="spawn-enemy-code"></div>

    <script>
        const spawnEnemyCode = `function spawn_enemy()
  local enemy = create_enemy("enemy_ship", 32, 32)

  -- Spawn at top of screen with random x position
  enemy.x = math.random(-100, 100)
  enemy.y = 100

  -- Give it random downward velocity
  enemy.vx = math.random(-10, 10) / 10
  enemy.vy = -1
end`;

        renderCodeBlock('spawn-enemy-code', spawnEnemyCode, 'lua');
    </script>

    <p><strong>Note:</strong> <code>math.random(-10, 10) / 10</code> generates 21 float values (-1.0 to 1.0) instead of 3 integers, creating smoother, more varied enemy movement.</p>

    <h3>Testing</h3>
    <p>Test by calling <code>spawn_enemy()</code> in the consoleâ€”enemies should appear at the top and drift downward.</p>

    <div id="test-commands"></div>

    <script>
        const testCommands = `// Spawn enemies from console
spawn_enemy()
spawn_enemy()
spawn_enemy()`;

        renderCodeBlock('test-commands', testCommands, 'javascript');
    </script>

    <div class="success-box">
        <h3>Reusable Spawning</h3>
        <p>You've separated <strong>when</strong> from <strong>how</strong>. <code>spawn_enemy()</code> is now your single source of truth for enemy creation.</p>
    </div>
</div>
